<div class="profile-container">
  <div class="profile-header">
    <div class="avatar">
      <!-- Profile Picture -->
      <img [src]="profilePicUrl" alt="Profile Picture" class="profile-pic" />

      <!-- Hidden File Input for Profile Picture Change -->
      <input type="file" accept="image/*" id="fileInput" #fileInput (change)="changeProfilePicture($event)" style="display: none" />

      <!-- Button to Open File Dialog -->
      <button class="upload-button" (click)="fileInput.click()">
        <i class="fa fa-camera"></i> <!-- Camera Icon -->
      </button>
    </div>
    <h3>A.B.C. Perera <br> Patient</h3>
  </div>

  <div class="profile-details">
    <form (ngSubmit)="validatePassword()">
      <fieldset>
        <legend>
          <h2>My Profile</h2>
        </legend>
        <div class="form-row">
          <label for="fullName">Full Name</label>
          <input id="fullName" type="text" placeholder="Enter your full name" />
        </div>
        <div class="form-row">
          <label for="address">Address</label>
          <input id="address" type="text" placeholder="Enter your address" />
        </div>
        <div class="form-row">
          <label for="age">Age</label>
          <input id="age" type="number" placeholder="Enter your age" />
        </div>
        <div class="form-row">
          <label for="mobile">Mobile Number</label>
          <input id="mobile" type="text" placeholder="Enter your mobile number" />
        </div>
        <div class="form-row">
          <label>Gender</label>
          <div class="radio-group">
            <input type="radio" id="male" name="gender" value="male" />
            <label for="male">Male</label>
            <input type="radio" id="female" name="gender" value="female" />
            <label for="female">Female</label>
          </div>
        </div>
        <div class="form-row">
          <label for="email">E-mail</label>
          <input id="email" type="email" placeholder="Enter your email" />
        </div>

        <!-- Password Fields -->
        <div class="form-row">
          <label for="oldPassword">Old Password</label>
          <input id="oldPassword" type="password" placeholder="Enter your old password" />
        </div>
        <div class="form-row">
          <label for="newPassword">New Password</label>
          <div class="password-container">
            <input id="newPassword" [type]="passwordVisible ? 'text' : 'password'" placeholder="Enter a strong password" (input)="checkPasswordStrength(); checkPasswordsMatch()" />
            <i class="bi" [class]="passwordVisible ? 'bi-eye-slash' : 'bi-eye'" (click)="togglePasswordVisibility()"></i>
          </div>
          <div id="passwordStrength" class="error-message">{{passwordStrengthMessage}}</div>
        </div>
        <div class="form-row">
          <label for="confirmPassword">Confirm New Password</label>
          <div class="password-container">
            <input id="confirmPassword" [type]="passwordVisible ? 'text' : 'password'" placeholder="Re-enter your new password" (input)="checkPasswordsMatch()" />
            <i class="bi" [class]="passwordVisible ? 'bi-eye-slash' : 'bi-eye'" (click)="togglePasswordVisibility()"></i>
          </div>
          <div id="passwordError" class="error-message" *ngIf="!passwordsMatch">Passwords do not match</div>
          <div *ngIf="passwordsMatch" class="text-success">
            <i class="bi bi-check-circle"></i> Passwords match
          </div>
        </div> <!-- Missing closing div -->

        <button type="submit" class="update-button">Update Profile</button>
      </fieldset>
    </form>
  </div>
</div>
